'use strict';

const line = require('@line/bot-sdk');
const express = require('express');

const defaultAccessToken = 'dhctiPZmYo7ELo020Wtnt6g3lG9vFiwTnMXsuYX8mtjCO+/9+a3GUpL1HuQ8pNl4ivqJFgSVRLE2qn1sxdLtLUXTpmWMZHh/N/OQPvV5KA7dJRjl6CCwM6VyzaT6LVaVP5JpmZ2MmAT4fhwbfHugCQdB04t89/1O/w1cDnyilFU=';
const defaultSecret =   'bf9b2691d4c779bf53352a59910ad313'
const LINE_MESSAGING_API = 'https://api.line.me/v2/bot/message';
const request = require("request-promise");
const config = {
  channelAccessToken: defaultAccessToken,
  channelSecret:  defaultSecret,
};

const LINE_HEADER = {
  'Content-Type': 'application/json',
   Authorization: `Bearer <dhctiPZmYo7ELo020Wtnt6g3lG9vFiwTnMXsuYX8mtjCO+/9+a3GUpL1HuQ8pNl4ivqJFgSVRLE2qn1sxdLtLUXTpmWMZHh/N/OQPvV5KA7dJRjl6CCwM6VyzaT6LVaVP5JpmZ2MmAT4fhwbfHugCQdB04t89/1O/w1cDnyilFU=>`
};

const client = new line.Client(config);


const app = express();

app.get('/', (req, res) => {
  res.send('Success');
});

app.post('/webhook', line.middleware(config), (req, res) => {
  Promise
    .all(req.body.events.map(handleEvent))
    .then((result) => res.json(result));

    
});

function handleEvent(event) {


 if (event.type === 'follow') {

   client.replyMessage(event.replyToken,follow);
    
  } 
if (event.message.type === 'image') {//‡∏Å‡∏£‡∏ì‡πä‡∏≠‡∏∑‡πà‡∏ô ‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô image ‡∏™‡πà‡∏ß‡∏ô‡∏°‡∏≤‡∏Å‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô ‡∏û‡∏ß‡∏Å ‡πÅ‡∏à‡πâ‡∏á‡∏ù‡∏≤‡∏Å
return client.replyMessage(event.replyToken, wait);
    }
 
   if (event.message.type !== 'text') //‡∏Å‡∏£‡∏ì‡πä‡∏≠‡∏∑‡πà‡∏ô ‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏°‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡πá‡∏ô text ‡πÄ‡∏ä‡πà‡∏ô sticker image audio location
   {
return client.replyMessage(event.replyToken, item);
    }

if (event.message.text.indexOf("‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ‡πÄ‡∏•‡∏∑‡∏≠‡∏î") !== -1||event.message.text.indexOf("‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤") !== -1||event.message.text.indexOf("‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ‡∏™‡∏¥‡πà‡∏á‡∏Ç‡∏≠‡∏á") !== -1)
{

   return client.replyMessage(event.replyToken, item);
}
    
  // Section ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö

else if (event.message.text === "‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®")
  {
    return client.replyMessage(event.replyToken, info);
  }
  else if (event.message.text === "Lucky Wheel")
  {
    return client.replyMessage(event.replyToken, luckywheel);
  }
  else if (event.message.text.indexOf("50") !== -1||event.message.text.indexOf("‡∏£‡∏±‡∏ö‡πÇ‡∏õ‡∏£ 50") !== -1)        
  {
    return client.replyMessage(event.replyToken,pro50);
  }
else if (event.message.text.indexOf("‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô") !== -1||event.message.text.indexOf("‡πÇ‡∏õ‡∏£") !== -1)
  {
    return client.replyMessage(event.replyToken, proreg);
  }

else if (event.message.text.indexOf("‡∏ù‡∏≤") !== -1||event.message.text.indexOf("‡∏ñ‡∏≠‡∏ô‡∏Ç‡∏±‡πâ‡∏ô") !== -1)
  {
    return client.replyMessage(event.replyToken, deposit);
  }

else if (event.message.text.indexOf("‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£") !== -1||event.message.text.indexOf("‡∏ù‡∏≤‡∏Å") !== -1||event.message.text.indexOf("‡∏Å‡∏£‡∏∏‡∏á") !== -1)
  {
    return client.replyMessage(event.replyToken, bank);
  }

 else if (event.message.text.indexOf("‡πÅ‡∏≠‡∏î") !== -1||event.message.text.indexOf("‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°") !== -1)       
  {
    return client.replyMessage(event.replyToken, chatwith);

  }
  else if (event.message.text.indexOf("‡∏™‡∏°‡∏±‡∏Ñ‡∏£") !== -1||event.message.text.indexOf("‡∏™‡∏°‡∏±‡∏Å") !== -1)       
  {
    return client.replyMessage(event.replyToken, register);

  }
 else if (event.message.text.indexOf("‡πÄ‡∏Å‡∏°‡∏™‡πå‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥") !== -1)
 {         
 return client.replyMessage(event.replyToken,gamereg);
 }

 else if (event.message.text.indexOf("‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥") !== -1|| event.message.text.indexOf("‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ù‡∏≤‡∏Å")!==-1|| event.message.text.indexOf("‡∏£‡∏±‡∏ö100")!==-1)         
  {
    return client.replyMessage(event.replyToken,freecredit);
  }
  else if (event.message.text === "‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤" || event.message.text === "‡πÅ‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤" ||event.message.text.indexOf("‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏°‡πà")!==-1||event.message.text.indexOf("‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ")!==-1)
  {
    return client.replyMessage(event.replyToken,wait);
  }
else if (event.message.text.indexOf("‡∏™‡∏ß‡∏±") !== -1|| event.message.text.indexOf("‡∏Æ‡∏±")!==-1)        
  {
    return client.replyMessage(event.replyToken,greeting);
  }
  else if (event.message.text.indexOf("‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏•‡πà‡∏ô") !== -1|| event.message.text.indexOf("‡πÄ‡∏ß‡πá‡∏ö")!==-1|| event.message.text.indexOf("‡πÄ‡∏ß‡πá‡∏õ")!==-1|| event.message.text.indexOf("‡∏ó‡∏≤‡∏á‡πÄ‡∏Ç‡πâ‡∏≤")!==-1)        
  {
    return client.replyMessage(event.replyToken,entrance);
  }
  else if (event.message.text.indexOf("‡∏•‡∏∑‡∏°‡∏£‡∏´‡∏±") !== -1)        
  {
    return client.replyMessage(event.replyToken,forget);
  }
   else if (event.message.text.indexOf("‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ") !== -1)        
  {
    return client.replyMessage(event.replyToken,problem);
  }
    else if (event.message.text.indexOf("‡∏ó‡∏£‡∏π") !== -1)        
  {
    return client.replyMessage(event.replyToken,truewallet);
  }
  

else
  {
    return client.replyMessage(event.replyToken, problem);
  }

  
};


const data = [

 {  "type":"text",
                "text":"‡πÄ‡∏ß‡πá‡∏ö‡∏Å‡∏≤‡∏ä‡∏≤‡∏î‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏ï‡∏£‡∏±‡∏á   ‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå 075 501 095 ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà: 8, ‡∏ñ‡∏ô‡∏ô‡∏£‡∏∑‡πà‡∏ô‡∏£‡∏°‡∏¢‡πå, ‡∏ï‡∏≥‡∏ö‡∏•‡∏ó‡∏±‡∏ö‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏á ‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡πÄ‡∏°‡∏∑‡∏≠‡∏á ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏ï‡∏£‡∏±‡∏á 92000  https://www.facebook.com/pg/trangrc/posts/ "
}
]

const register = [

 {  "type":"text",
                "text":"üíã ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏ú‡πà‡∏≤‡∏ô‡∏•‡∏¥‡∏á‡∏Ñ‡πå‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏à‡πâ‡∏≤ üíã\n\n üë©üèΩ‚Äçüíª https://slotcat777.com/?openExternalBrowser=1 "

         }

]


const forget = [

 {  "type":"text",
                "text":"üíã ‡∏•‡∏∑‡∏°‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏ä‡πà‡∏£‡∏∂‡∏õ‡πà‡∏≤‡∏ß? üíã\n\n üë©üèΩ‚Äçüíª ‡∏•‡∏≠‡∏á‡∏ó‡∏±‡∏Å‡∏´‡∏≤‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏î‡∏π‡∏™‡∏¥ üë©üèΩ‚Äçüíª \n\nüëá ‡∏ó‡∏µ‡πà‡∏•‡∏¥‡∏á‡∏Ñ‡πå‡∏ô‡∏µ‡πâ‡πÄ‡∏•‡∏¢ üëá \n\n https://lin.ee/4zt83jX"

         }

]

const pro50 = [

 {  "type":"text",
                "text":"ü§ë ‡∏£‡∏±‡∏ö‡πÇ‡∏õ‡∏£ 50/50 ü§ë\n\n üî• ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î üî•\n\n ‚úÖ ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡πÄ‡∏ó‡∏¥‡∏£‡πå‡∏ô\n ‚úÖ ‡πÄ‡∏•‡πà‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏∏‡∏Å‡∏Ñ‡πà‡∏≤‡∏¢\n ‚úÖ ‡∏ñ‡∏≠‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥ 300  \n\n üëá ‡∏™‡∏ô‡πÉ‡∏à‡∏ó‡∏±‡∏Å‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏•‡∏¥‡∏á‡∏Ñ‡πå‡∏ô‡∏µ‡πâ‡πÄ‡∏•‡∏¢ üëá \n\n https://lin.ee/4zt83jX"

         }

]
const problem = [

 {  "type":"text",
                "text":" üò¢ ‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ä‡πà‡∏£‡∏∂‡∏õ‡πà‡∏≤‡∏ß‡∏Ñ‡πà‡∏∞? ‡∏•‡∏≠‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏•‡∏¥‡πâ‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡∏™‡∏¥‡∏Ñ‡πà‡∏∞ ‡∏à‡∏¥‡πâ‡∏°‡πÄ‡∏•‡∏¢üëáüëá  \n\n üëâüèª https://lin.ee/4zt83jX"

         }

]



const item = [

{
          type: "template",
          altText: "üî• ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏¢‡∏î üî•",
          template: {
            type: "carousel",
            imageAspectRatio: "square",
            imageSize: "contain",
            columns: [
             {
                thumbnailImageUrl: "https://drive.google.com/uc?id=12KRka9_4GVJEdy280uODi7uMXyz8n1_9",
                imageBackgroundColor: "#030600",
                title: "\t\t ‡∏Å‡∏≤‡∏ä‡∏≤‡∏î‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏ï‡∏£‡∏±‡∏á ",
                text: "‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå 075501095 \n ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà: 8,‡∏ñ‡∏ô‡∏ô‡∏£‡∏∑‡πà‡∏ô‡∏£‡∏°‡∏¢‡πå\n‡∏ï‡∏≥‡∏ö‡∏•‡∏ó‡∏±‡∏ö‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏á",
                actions: [
                 
                    {
                    type: "uri",
                    label: "‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°",
                   uri: "https://www.facebook.com/pg/trangrc/posts?openExternalBrowser=1"
          }
                ]
              },
 
 {
                thumbnailImageUrl: "https://drive.google.com/uc?id=1cK00lkHze5ubr-DGF69ZLmY45hE0Z8HA",
                imageBackgroundColor: "#030600",
                title: "\t\t ‡∏™‡∏ñ‡∏≤‡∏ô‡∏ö‡πâ‡∏≤‡∏ô‡∏û‡∏±‡∏Å‡∏Ñ‡∏ô‡∏ä‡∏£‡∏≤",
                text: "‡πÇ‡∏ó‡∏£ 075574679\n‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà 113 ‡∏°.2 ‡∏ï.‡∏õ‡∏≤‡∏Å‡πÅ‡∏à‡πà‡∏° ‡∏≠.‡∏´‡πâ‡∏ß‡∏¢‡∏¢‡∏≠‡∏î",
                actions: [
                    {
                    type: "uri",
                    label : "‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°",
                    uri : "https://www.facebook.com/%E0%B8%AA%E0%B8%96%E0%B8%B2%E0%B8%99%E0%B8%AA%E0%B8%87%E0%B9%80%E0%B8%84%E0%B8%A3%E0%B8%B2%E0%B8%B0%E0%B8%AB%E0%B9%8C%E0%B8%84%E0%B8%99%E0%B8%8A%E0%B8%A3%E0%B8%B2%E0%B8%9A%E0%B9%89%E0%B8%B2%E0%B8%99%E0%B8%A8%E0%B8%A3%E0%B8%B5%E0%B8%95%E0%B8%A3%E0%B8%B1%E0%B8%87-%E0%B8%AD%E0%B8%AB%E0%B9%89%E0%B8%A7%E0%B8%A2%E0%B8%A2%E0%B8%AD%E0%B8%94-%E0%B8%88%E0%B8%95%E0%B8%A3%E0%B8%B1%E0%B8%87-107904924436991?openExternalBrowser=1"
                  }
                ]
              },
              {
                thumbnailImageUrl: "https://drive.google.com/uc?id=1VfpHcl4vHxFTYja9lEs9IUnJesy4zuIP",
                imageBackgroundColor: "#030600",
                title: "\t\t ‡πÄ‡∏£‡∏∑‡∏≠‡∏ô‡∏à‡∏≥‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏ï‡∏£‡∏±‡∏á",
                text: "‡πÇ‡∏ó‡∏£ 075582336\n‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà: 133 ‡∏°. 11 ‡∏ï‡∏≥‡∏ö‡∏•‡πÇ‡∏Ñ‡∏Å‡∏´‡∏•‡πà‡∏≠ ‡∏≠.‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏ï‡∏£‡∏±‡∏á",
               
                actions: [
                    {
                    type: "uri",
                    label: "‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°",
                   uri: "https://www.facebook.com/%E0%B9%80%E0%B8%A3%E0%B8%B7%E0%B8%AD%E0%B8%99%E0%B8%88%E0%B8%B3%E0%B8%88%E0%B8%B1%E0%B8%87%E0%B8%AB%E0%B8%A7%E0%B8%B1%E0%B8%94%E0%B8%95%E0%B8%A3%E0%B8%B1%E0%B8%87-100531712073093?openExternalBrowser=1"
          }
                ]
              },
          {
                thumbnailImageUrl: "https://drive.google.com/uc?id=178JtgmU8J7eYEDv8IIXLwEsSAwHBPxGk",
                imageBackgroundColor: "#ffffff",
                title: "\t\t ‡∏™‡∏ñ‡∏≤‡∏ô‡∏û‡∏¥‡∏ô‡∏¥‡∏à‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á‡πÄ‡∏î‡πá‡∏Å‡πÅ‡∏•‡∏∞‡πÄ‡∏¢‡∏≤‡∏ß‡∏ä‡∏ô",
                text: "‡πÇ‡∏ó‡∏£ 075571439\n‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà: 116 ‡∏°.3 ‡∏ï.‡∏ó‡∏∏‡πà‡∏á‡∏Ñ‡πà‡∏≤‡∏¢ ‡∏≠.‡∏¢‡πà‡∏≤‡∏ô‡∏ï‡∏≤‡∏Ç‡∏≤‡∏ß",
               
                actions: [
                   {
                    type: "uri",
                    label: "‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°",
                   uri: "https://shorturl.at/hxD17?openExternalBrowser=1"
              }
            ]
            }
               
     
            ]
          }
}
];


// listen on port
const port = process.env.PORT || 3000;
app.listen(port, () => {
  console.log(`listening on ${port}`);
});