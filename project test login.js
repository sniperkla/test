'use strict';

const line = require('@line/bot-sdk');
const express = require('express');

const defaultAccessToken = 'cxcH8hzWaWG6MOXpGByIes9ojXisQnlj5qMrRmRr2iv2I0eZru2eqfeyyhCizzHPMFvxR6HnHpOqEa4LddBMdvLoCSHKX6osxxQ9dyrpyGzbiInR1ac7aPFRVt4evi2yG+S3H1GUWzcWu2Bml59ffQdB04t89/1O/w1cDnyilFU=';
const defaultSecret = '311e13d1b2c81a48d8ab10c4970637ba';
const LINE_MESSAGING_API = 'https://api.line.me/v2/bot/message';
const request = require("request-promise");
const config = {
  channelAccessToken: defaultAccessToken,
  channelSecret:  defaultSecret,
};
const LINE_HEADER = {
  'Content-Type': 'application/json',
   Authorization: `Bearer <cxcH8hzWaWG6MOXpGByIes9ojXisQnlj5qMrRmRr2iv2I0eZru2eqfeyyhCizzHPMFvxR6HnHpOqEa4LddBMdvLoCSHKX6osxxQ9dyrpyGzbiInR1ac7aPFRVt4evi2yG+S3H1GUWzcWu2Bml59ffQdB04t89/1O/w1cDnyilFU=>`
};

const client = new line.Client(config);


const app = express();

app.get('/', (req, res) => {
  res.send('Hello World!');
});

app.post('/webhook', line.middleware(config), (req, res) => {
  Promise
    .all(req.body.events.map(handleEvent))
    .then((result) => res.json(result));

    
});

function handleEvent(event) {
  var idline = event.source.userId;
const options = {
    url: 'https://niki999.com/member/getLine/'+idline,
    method: 'POST',
    headers: {
        'Accept': 'application/json',
        'Accept-Charset': 'utf-8',
    }
};
 if (event.type === 'follow') {
      client.replyMessage(event.replyToken, follow); 
      
    
  }
if (event.message.text === '‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö'){
  
request(options, function(err, res, body) {
    let json = JSON.parse(body);
    if (json === null)
    {
    var customerName = null;
    }
    else 
    var customerName = json.user_id_line;


    console.log(customerName);
    if (customerName === idline)
    {// || customerName === null){
    client.replyMessage(event.replyToken, forReg);
   return request({
    method: 'POST',
    uri: `https://api.line.me/v2/bot/user/${idline}/richmenu/richmenu-6476ee09c89c11eb1ce1c15fd4a6016c`,
    headers: {
      Authorization: `Bearer {cxcH8hzWaWG6MOXpGByIes9ojXisQnlj5qMrRmRr2iv2I0eZru2eqfeyyhCizzHPMFvxR6HnHpOqEa4LddBMdvLoCSHKX6osxxQ9dyrpyGzbiInR1ac7aPFRVt4evi2yG+S3H1GUWzcWu2Bml59ffQdB04t89/1O/w1cDnyilFU=}`
    },
    json: true
  }
  );
 


  } else 
   {
    return request({
    method: `POST`,
    uri: `${LINE_MESSAGING_API}/reply`,
    headers: LINE_HEADER,
    body: JSON.stringify({
      replyToken: event.replyToken,
      messages: [
        {
         type: 'text',
         text: 'ü§ñ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏∞‡∏Ñ‡∏∞ü§ñ'
        }
    ]
    })
  });
   }
  });
}
 else if (event.message.text === 'Coming Soon'||event.message.text === 'previous'){
  
  return request({
    method: 'DELETE',
    uri: `https://api.line.me/v2/bot/user/${idline}/richmenu`,
    headers: {
      Authorization: `Bearer {cxcH8hzWaWG6MOXpGByIes9ojXisQnlj5qMrRmRr2iv2I0eZru2eqfeyyhCizzHPMFvxR6HnHpOqEa4LddBMdvLoCSHKX6osxxQ9dyrpyGzbiInR1ac7aPFRVt4evi2yG+S3H1GUWzcWu2Bml59ffQdB04t89/1O/w1cDnyilFU=}`
    },
    json: true
  })
}

else if (event.message.text==='‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô'){
   return client.replyMessage(event.replyToken, howTo);
}


 else if (event.message.text==='‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å')
  {
    return client.replyMessage(event.replyToken, proreg);
  }

   else if (event.message.text==='‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô')
  {
    return client.replyMessage(event.replyToken, proreg);
  }
   else if (event.message.text==='‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å')
  {
  return client.replyMessage(event.replyToken, regis);
 /* return request({
    method: 'POST',
    uri: `https://api.line.me/v2/bot/user/${idline}/richmenu`,
    headers: {
      Authorization: `Bearer {cxcH8hzWaWG6MOXpGByIes9ojXisQnlj5qMrRmRr2iv2I0eZru2eqfeyyhCizzHPMFvxR6HnHpOqEa4LddBMdvLoCSHKX6osxxQ9dyrpyGzbiInR1ac7aPFRVt4evi2yG+S3H1GUWzcWu2Bml59ffQdB04t89/1O/w1cDnyilFU=}`
    },
    json: true
  })*/
  }

  
  else if (event.message === 'text'){
  return client.replyMessage(event.replyToken, test);
  }
 else 
  {
    return client.replyMessage(event.replyToken, test);
  }

  
};


const proreg = [

         {
                "type":"text",
                "text":"üì≤ ‡∏™‡πÑ‡∏•‡∏î‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° üì≤"
        },

{
          type: "template",
          altText: "üì≤ ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏°‡∏≤‡πÅ‡∏£‡∏á‡∏™‡πå üì≤",
          template: {
            type: "carousel",
            imageAspectRatio: "square",
            imageSize: "contain",
            columns: [

            {
                thumbnailImageUrl: "https://niki999.com/joker515/logo.gif",
                imageBackgroundColor: "#030600",
                title: "\t\tüëë www.joker515.com üëë",
                text: "üíØ  ‡∏ù‡∏≤‡∏Å-‡∏ñ‡∏≠‡∏ô ‡∏≠‡∏±‡∏ï‡∏¥‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ \nüíØ  ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡πÄ‡∏¢‡∏≠‡∏∞ ‡∏à‡∏±‡∏î‡πÄ‡∏ï‡πá‡∏°\nüíØ  ‡πÄ‡∏Å‡∏°‡∏™‡πå‡πÄ‡∏û‡∏µ‡∏¢‡∏ö ‡∏•‡∏≠‡∏á‡πÄ‡∏•‡∏¢ üî•",
               
                actions: [
                 
                    {
                    type: "uri",
                    label: "‡∏£‡∏±‡∏ö‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô",
                   uri: "https://liff.line.me/1654945360-4wdOYZLl"
          }
                ]
              },
              {
                thumbnailImageUrl: "https://niki999.com/joker515/proreg/3.1.jpg",
                imageBackgroundColor: "#030600",
                title: "\t\tüíé ‡∏ù‡∏≤‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡∏£‡∏±‡∏ö‡πÄ‡∏û‡∏¥‡πà‡∏° 50 % üíé",
                text: "‚úÖ  ‡∏£‡∏±‡∏ö‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 1000\n‚úÖ  ‡∏ó‡∏≥‡∏¢‡∏≠‡∏î 10 ‡πÄ‡∏ó‡πà‡∏≤ ü§©\n‚úÖ  ‡∏™‡∏•‡πä‡∏≠‡∏ï‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô",
               
                actions: [
                 
                    {
                    type: "uri",
                    label: "‡∏£‡∏±‡∏ö‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô",
                   uri: "https://liff.line.me/1654945360-4wdOYZLl"
          }
                ]
              },
               {
                thumbnailImageUrl: "https://niki999.com/joker515/proreg/1.jpg",
                imageBackgroundColor: "#030600",
                title: "\t\tüíû ‡πÅ‡∏ó‡∏á‡∏ñ‡∏π‡∏Å‡∏ú‡∏¥‡∏î üíû",
                text: "üî•  ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ô 10 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á\nüî•  ‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏∑‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ (‡∏¢‡∏≠‡∏î‡∏ó‡∏µ‡πà‡∏ô‡πâ‡∏≠‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î)\nüî•  ‡∏Ñ‡∏≤‡∏™‡∏¥‡πÇ‡∏ô‡∏™‡∏î‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô",
               
                actions: [
                 
                    {
                    type: "uri",
                    label: "‡∏£‡∏±‡∏ö‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô",
                   uri: "https://liff.line.me/1654945360-4wdOYZLl"
          }
                ]
              },
                {
                thumbnailImageUrl: "https://niki999.com/joker515/proreg/2.jpg",
                imageBackgroundColor: "#030600",
                title: "\t\t‚ú® ‡∏ù‡∏≤‡∏Å‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥ 100 ‡∏ö‡∏≤‡∏ó ‚ú®",
                text: "ü•≥  ‡∏£‡∏±‡∏ö‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡πÑ‡∏õ‡πÄ‡∏•‡∏¢ 10 %\nü•≥  ‡∏£‡∏±‡∏ö‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 1000 ‡∏ö‡∏≤‡∏ó\nü•≥  ‡∏™‡∏•‡πä‡∏≠‡∏ï‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô",
               
                actions: [
                 
                    {
                    type: "uri",
                    label: "‡∏£‡∏±‡∏ö‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô",
                   uri: "https://liff.line.me/1654945360-4wdOYZLl"
          }
                ]
              }
                
            

            ]
          }
}

];





const promotion = [


         {
                "type":"text",
                "text":"üì≤ ‡∏™‡πÑ‡∏•‡∏î‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° üì≤"
        },

{
          type: "template",
          altText: "üî• ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏°‡∏≤‡πÅ‡∏£‡∏á‡∏™‡πå üî•",
          template: {
            type: "carousel",
            imageAspectRatio: "square",
            imageSize: "contain",
            columns: [
              {
                thumbnailImageUrl: "https://niki999.com/joker515/555.gif",
                imageBackgroundColor: "#030600",
                title: "\t\tüíû ‡∏Ñ‡πà‡∏≤‡∏¢‡πÄ‡∏Å‡∏°‡∏™‡πå‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡∏û‡∏•‡∏≤‡∏î üíû",
                text: "‚úÖ ‡∏†‡∏≤‡∏û‡∏™‡∏ß‡∏¢ ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏¥‡∏ô\n‚úÖ ‡πÅ‡∏ï‡∏Å‡∏á‡πà‡∏≤‡∏¢‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡πÄ‡∏û‡∏µ‡∏¢‡∏ö ü§©\n‚úÖ ‡∏à‡πà‡∏≤‡∏¢‡∏à‡∏£‡∏¥‡∏á‡∏ï‡πâ‡∏≠‡∏á ‚ôöJOKER515‚ôö",
               
                actions: [
                  {
                    type: "uri",
                    label: " ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å ",
                   uri: "https://liff.line.me/1654945360-pvEnqeP2"
                  },
                    {
                    type: "uri",
                    label: " ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô ",
                   uri: "https://lin.ee/9oLGCNP"
          }
                ]
              },
              {
                thumbnailImageUrl: "https://niki999.com/joker515/4.1.jpg",
                title: "üÜì ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏£‡∏±‡∏ö‡∏ü‡∏£‡∏µ üÜì",
                text: "‚úîÔ∏è ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡πÅ‡∏Ñ‡πà‡πÅ‡∏ä‡∏£‡πå‡∏•‡∏á‡∏Å‡∏•‡∏∏‡πà‡∏°\n‚úîÔ∏è ‡∏£‡∏±‡∏ö‡πÑ‡∏õ‡πÄ‡∏•‡∏¢ 100 ‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï\n‚úîÔ∏è ‡πÅ‡∏à‡∏Å‡∏à‡∏£‡∏¥‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÇ‡∏°‡πâ",
                  imageBackgroundColor: "#000000",
                actions: [
                  {
                    type: "uri",
                    label: " ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å ",
                    uri: "https://liff.line.me/1654945360-pvEnqeP2"
                  },
           {
                    type: "uri",
                    label: "  ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô ",
                   uri: "https://lin.ee/9oLGCNP"
          }
                ]
              },
               {
                thumbnailImageUrl: "https://niki999.com/joker515/2.jpg",
                imageBackgroundColor: "#030600",
                title: "üé∞ ‡∏™‡∏•‡πä‡∏≠‡∏ï‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå üé∞",
                text: "üî• ‡πÄ‡∏Å‡∏°‡∏™‡πå‡πÄ‡∏û‡∏µ‡∏¢‡∏ö ‡∏£‡∏ß‡∏°‡∏´‡∏•‡∏≤‡∏¢‡∏Ñ‡πà‡∏≤‡∏¢\nüî• Niki, Joker, SA, EVO\nüî• ‡πÄ‡∏¢‡∏≠‡∏∞‡∏™‡∏∞‡πÉ‡∏à‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô",
                
                actions: [
                  {
                    type: "uri",
                    label: " ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å ",
                    uri: "https://liff.line.me/1654945360-pvEnqeP2"
                  },
           {
                    type: "uri",
                    label: "  ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô ",
                   uri: "https://lin.ee/9oLGCNP"
          }
                ]
              },
               {
                thumbnailImageUrl: "https://niki999.com/joker515/3.jpg",
                imageBackgroundColor: "#030600",
                title: "üêü ‡∏¢‡∏¥‡∏á‡∏õ‡∏•‡∏≤‡∏Å‡πá‡∏°‡∏µ‡∏ô‡∏∞‡∏à‡πä‡∏∞ üêü",
                text: "üí∏ ‡πÄ‡∏•‡πà‡∏ô‡∏á‡πà‡∏≤‡∏¢ & ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏¥‡∏ô\nüí∏ ‡πÅ‡∏ï‡∏Å‡∏á‡πà‡∏≤‡∏¢ ‡∏à‡πà‡∏≤‡∏¢‡πÑ‡∏ß\nüí∏ ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ ‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à‡πÑ‡∏î‡πâ‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô",
                
                actions: [
                  {
                    type: "uri",
                    label: " ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å ",
                    uri: "https://liff.line.me/1654945360-pvEnqeP2"
                  },
           {
                    type: "uri",
                    label: "  ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô ",
                   uri: "https://lin.ee/9oLGCNP"
          }
                ]
              },
                {
                thumbnailImageUrl: "https://niki999.com/joker515/1.jpg",
                imageBackgroundColor: "#030600",
                title: "üÉè ‡∏ö‡∏≤‡∏Ñ‡∏≤‡∏£‡πà‡∏≤‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå üÉè",
                text: "‚ô¶Ô∏è SA SEXY GAMING\n‚ô¶Ô∏è ‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡∏°‡∏≤‡πÑ‡∏ß‡πâ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà\n‚ô¶Ô∏è ‡∏°‡∏µ‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏Ñ‡∏≠‡∏¢‡∏î‡∏π‡πÅ‡∏• 24 ‡∏ä‡∏°.",
                
                actions: [
                  {
                    type: "uri",
                    label: " ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å ",
                    uri: "https://liff.line.me/1654945360-pvEnqeP2"
                  },
           {
                    type: "uri",
                    label: "  ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô ",
                   uri: "https://lin.ee/9oLGCNP"
          }
                ]
              }




            ]
          }
}

];

const follow = [

     


{
  "type": "flex",
  "altText": "üåü JOKER515 ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏∞ üåü",
  "contents": {
    "type": "bubble",
    "direction": "ltr",
    "header": {
      "type": "box",
      "layout": "vertical",
      "spacing": "none",
      "contents": [
        {
          "type": "text",
          "text": "üåü ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà üåü",
          "align": "center",
          "weight": "bold",
          "size": "lg",
          "color": "#000000"
        }
      ]
    },
    "hero": {
      "type": "image",
      "url": "https://www.niki999.com/joker515/logopure.jpg",
      "size": "full",
      "aspectRatio": "1.51:1",
      "aspectMode": "fit"
    },
    "body": {
      "type": "box",
      "layout": "vertical",
      "contents": [
        {
          "type": "text",
          "text": " ü§©  ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ ‡πÉ‡∏ä‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≤‡∏á‡πÜ",
          "size": "md",
          "margin" : "lg",
          "align": "start",
          "weight": "regular",
          "color": "#141313"
        },
        {
          "type": "text",
          "text": " ü§©  ‡∏ú‡πà‡∏≤‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Rich Menu ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡πà‡∏∞",
          "size": "md",
          "margin" : "lg",
          "weight": "regular",
          "color": "#010101"
        },
        {
          "type": "text",  
          "margin" : "lg",
          "text": " ü§©  ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô",
          "size": "md",
          "weight": "regular",
          "color": "#050404"
        }
      ]
    },
    "footer": {
      "type": "box",
      "layout": "horizontal",
      "contents": [
        {
          "type": "button",
          "action": {
            "type": "message",
            "label": "‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ",
            "text": "‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô"
          },
          "color": "#3FBD38",
          "margin": "xl",
          "style": "primary"
        }
      ]
    }
  }
},
    {
                "type":"text",
                "text":"üî•‡πÄ‡∏ä‡πá‡∏Ñ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà Rich Menu üî•"
        }, 

{
          type: "template",
          altText: "‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏°‡∏≤‡πÅ‡∏£‡∏á‡∏™‡πå ",
          template: {
            type: "carousel",
            imageAspectRatio: "square",
            imageSize: "contain",
            columns: [
              {
                thumbnailImageUrl: "https://niki999.com/joker515/555.gif",
                imageBackgroundColor: "#030600",
                title: "\t\tüíû ‡∏Ñ‡πà‡∏≤‡∏¢‡πÄ‡∏Å‡∏°‡∏™‡πå‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡∏û‡∏•‡∏≤‡∏î üíû",
                text: "‚úÖ ‡∏†‡∏≤‡∏û‡∏™‡∏ß‡∏¢ ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏¥‡∏ô\n‚úÖ ‡πÅ‡∏ï‡∏Å‡∏á‡πà‡∏≤‡∏¢‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡πÄ‡∏û‡∏µ‡∏¢‡∏ö ü§©\n‚úÖ ‡∏à‡πà‡∏≤‡∏¢‡∏à‡∏£‡∏¥‡∏á‡∏ï‡πâ‡∏≠‡∏á ‚ôöJOKER515‚ôö",
               
                actions: [
                  {
                    type: "uri",
                    label: " ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å ",
                   uri: "https://liff.line.me/1654945360-pvEnqeP2"
                  },
                    {
                    type: "uri",
                    label: " ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô ",
                   uri: "https://lin.ee/9oLGCNP"
          }
                ]
              },
              {
                thumbnailImageUrl: "https://niki999.com/joker515/4.1.jpg",
                title: "üÜì ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏£‡∏±‡∏ö‡∏ü‡∏£‡∏µ üÜì",
                text: "‚úîÔ∏è ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡πÅ‡∏Ñ‡πà‡πÅ‡∏ä‡∏£‡πå‡∏•‡∏á‡∏Å‡∏•‡∏∏‡πà‡∏°\n‚úîÔ∏è ‡∏£‡∏±‡∏ö‡πÑ‡∏õ‡πÄ‡∏•‡∏¢ 100 ‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï\n‚úîÔ∏è ‡πÅ‡∏à‡∏Å‡∏à‡∏£‡∏¥‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÇ‡∏°‡πâ",
                  imageBackgroundColor: "#000000",
                actions: [
                  {
                    type: "uri",
                    label: " ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å ",
                    uri: "https://liff.line.me/1654945360-pvEnqeP2"
                  },
           {
                    type: "uri",
                    label: "  ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô ",
                   uri: "https://lin.ee/9oLGCNP"
          }
                ]
              },
               {
                thumbnailImageUrl: "https://niki999.com/joker515/2.jpg",
                imageBackgroundColor: "#030600",
                title: "üé∞ ‡∏™‡∏•‡πä‡∏≠‡∏ï‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå üé∞",
                text: "üî• ‡πÄ‡∏Å‡∏°‡∏™‡πå‡πÄ‡∏û‡∏µ‡∏¢‡∏ö ‡∏£‡∏ß‡∏°‡∏´‡∏•‡∏≤‡∏¢‡∏Ñ‡πà‡∏≤‡∏¢\nüî• Niki, Joker, SA, EVO\nüî• ‡πÄ‡∏¢‡∏≠‡∏∞‡∏™‡∏∞‡πÉ‡∏à‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô",
                
                actions: [
                  {
                    type: "uri",
                    label: " ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å ",
                    uri: "https://liff.line.me/1654945360-pvEnqeP2"
                  },
           {
                    type: "uri",
                    label: "  ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô ",
                   uri: "https://lin.ee/9oLGCNP"
          }
                ]
              },
               {
                thumbnailImageUrl: "https://niki999.com/joker515/3.jpg",
                imageBackgroundColor: "#030600",
                title: "üêü ‡∏¢‡∏¥‡∏á‡∏õ‡∏•‡∏≤‡∏Å‡πá‡∏°‡∏µ‡∏ô‡∏∞‡∏à‡πä‡∏∞ üêü",
                text: "üí∏ ‡πÄ‡∏•‡πà‡∏ô‡∏á‡πà‡∏≤‡∏¢ & ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏¥‡∏ô\nüí∏ ‡πÅ‡∏ï‡∏Å‡∏á‡πà‡∏≤‡∏¢ ‡∏à‡πà‡∏≤‡∏¢‡πÑ‡∏ß\nüí∏ ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ ‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à‡πÑ‡∏î‡πâ‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô",
                
                actions: [
                  {
                    type: "uri",
                    label: " ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å ",
                    uri: "https://liff.line.me/1654945360-pvEnqeP2"
                  },
           {
                    type: "uri",
                    label: "  ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô ",
                   uri: "https://lin.ee/9oLGCNP"
          }
                ]
              },
                {
                thumbnailImageUrl: "https://niki999.com/joker515/1.jpg",
                imageBackgroundColor: "#030600",
                title: "üÉè ‡∏ö‡∏≤‡∏Ñ‡∏≤‡∏£‡πà‡∏≤‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå üÉè",
                text: "‚ô¶Ô∏è SA SEXY GAMING\n‚ô¶Ô∏è ‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡∏°‡∏≤‡πÑ‡∏ß‡πâ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà\n‚ô¶Ô∏è ‡∏°‡∏µ‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏Ñ‡∏≠‡∏¢‡∏î‡∏π‡πÅ‡∏• 24 ‡∏ä‡∏°.",
                
                actions: [
                  {
                    type: "uri",
                    label: " ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å ",
                    uri: "https://liff.line.me/1654945360-pvEnqeP2"
                  },
           {
                    type: "uri",
                    label: "  ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô ",
                   uri: "https://member.joker515.com/"
          }
                ]
              }




            ]
          }
},





];

  const replyUnknow = [
{
  "type": "flex",
  "altText": "ü§ñ  ‡∏â‡∏±‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏ï‡∏≠‡∏ö‡∏≠‡∏±‡∏ï‡∏¥‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥  ü§ñ",
  "contents": {
    "type": "bubble",
    "direction": "ltr",
    "header": {
      "type": "box",
      "layout": "vertical",
      "contents": [
        {
          "type": "image",
          "url": "https://niki999.com/joker515/555.gif",
          "align": "end",
          "gravity": "center",
          "size": "full",
          "aspectRatio": "20:13",
          "aspectMode": "fit",
          "backgroundColor": "#FFFEFE"
        },
        {
          "type": "text",
          "text": "ü§ñ  ‡∏â‡∏±‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏ï‡∏≠‡∏ö‡∏≠‡∏±‡∏ï‡∏¥‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥  ü§ñ",
          "margin": "md",
          "size": "md",
          "align": "center",
          "weight": "bold",
          "color": "#FF0000"
        }
      ]
    },
    "body": {
      "type": "box",
      "layout": "vertical",
      "contents": [
        {
          "type": "text",
          "text": " üì≤  ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ ‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô",
          "margin": "md",
          "align": "start",
          "gravity": "center",
          "weight": "regular",
          "color": "#000000"
        },
        {
          "type": "text",
          "text": " üì≤  ‡πÅ‡∏à‡πâ‡∏á‡∏õ‡∏±‡∏ç‡∏´‡∏≤ ‡∏´‡∏£‡∏∑‡∏≠ ‡∏£‡∏±‡∏ö‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô",
          "margin": "md",
          "align": "start",
          "weight": "regular",
          "color": "#000000"
        },
        {
          "type": "text",
          "text": " üì≤  ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡πà‡∏∞",
          "margin": "md",
          "align": "start",
          "gravity": "center",
          "weight": "regular",
          "color": "#000000"
        }
      ]
    },
    "footer": {
      "type": "box",
      "layout": "horizontal",
      "contents": [
        {
          "type": "button",
          "action": {
            "type": "uri",
            "label": "‡∏Ñ‡∏•‡∏¥‡πä‡∏Å‡πÄ‡∏•‡∏¢",
            "uri": "https://lin.ee/9oLGCNP"
          },
          "color": "#48C741",
          "margin": "lg",
          "style": "primary",
          "gravity": "center"
        }
      ]
    }
  }
}
  ];






   const howTo = 
   [
  {
  "type": "imagemap",
  "baseUrl": "https://niki999.com/joker515/howto.jpg?q=g54", //‡πÉ‡∏™‡πà param ?xxx ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÅ‡∏ö‡∏ö 1 ‡∏£‡∏π‡∏õ‡πÑ‡∏î‡πâ ‡∏´‡∏≤‡∏Å‡πÑ‡∏°‡πà‡πÉ‡∏™‡πà‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ render ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÑ‡∏î‡πâ
  "altText": "üî¥ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô",
  "baseSize": {
    "width": 1040,
    "height": 1040
  },
  "actions": []
}


  ];
     const forReg = 
   [
  {
  "type": "imagemap",
  "baseUrl": "https://niki999.com/joker515/forreg.jpg?q=00d5", //‡πÉ‡∏™‡πà param ?xxx ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÅ‡∏ö‡∏ö 1 ‡∏£‡∏π‡∏õ‡πÑ‡∏î‡πâ ‡∏´‡∏≤‡∏Å‡πÑ‡∏°‡πà‡πÉ‡∏™‡πà‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ render ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÑ‡∏î‡πâ
  "altText": "üî¥ ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏ô‡∏∞‡∏Ñ‡∏∞",
  "baseSize": {
    "width": 1040,
    "height": 1040
  },
  "actions": []
}


  ];
    const test = 
   [
  {
  "type": "template",
  "altText": "ü§ñ ‡∏â‡∏±‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏ö‡∏≠‡∏ó ‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ ü§ñ",
  "template": {
    "type": "buttons",
    imageAspectRatio: "square",
    imageSize: "contain",

    "actions": [
      {
        "type": "uri",
        "label": "‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô",
        "uri": "https://lin.ee/9oLGCNP"
      },
      {
        "type": "uri",	
        "label": "‡∏£‡∏±‡∏ö‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô / ‡πÅ‡∏à‡πâ‡∏á‡∏õ‡∏±‡∏ç‡∏´‡∏≤",
        "uri": "https://lin.ee/9oLGCNP"
      }
    ],
    "thumbnailImageUrl": "https://niki999.com/joker515/logo.gif",
    "text": "ü§ñ ‡∏â‡∏±‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏ö‡∏≠‡∏ó ‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ ü§ñ"
  }
}];


const regis = 
   [

   

{
  "type": "text",
  "text": "\n             ‚ùå ‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô ‚ùå\n\n\nüöß  ‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏ú‡πà‡∏≤‡∏ô Line\n\n\nüöß  ‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á Login ‡∏Å‡∏±‡∏ö Line ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏∞‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏Å‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏±‡∏Ñ‡∏£\n\n\n‚õîÔ∏è  ‡∏´‡∏≤‡∏Å‡∏ó‡πà‡∏≤‡∏ô Login ‡∏Å‡∏±‡∏ö Line ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≤‡∏ô‡πÄ‡∏≠‡∏á‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏±‡∏Ñ‡∏£\n\n\n‚õîÔ∏è  ‡∏ó‡∏≤‡∏á‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö‡πÉ‡∏î‡πÜ‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏¥‡πâ‡∏ô ‡∏´‡∏≤‡∏Å‡πÄ‡∏Å‡∏¥‡∏î‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ï‡∏≤‡∏°‡∏°‡∏≤\n\n\n‡∏Å‡∏î‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠ ‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠\n\n"
},

   
   {
  "type": "template",
  "altText": "‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏ï‡∏Å‡∏•‡∏á",
  "template": {
    "type": "confirm",
    "actions": [
      {
        "type": "uri",
        "label": "‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö",
        "uri": "https://liff.line.me/1654945360-pvEnqeP2"
      },
      {
      "type": "uri",
        "label": "‡πÑ‡∏°‡πà‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö",
        "uri": "https://liff.line.me/1654945360-L5aOKE8V"
      }
    ],
    "text": "‚ö†Ô∏è ‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏ï‡∏Å‡∏•‡∏á ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?"
  }
}];

// listen on port
const port = process.env.PORT || 3000;
app.listen(port, () => {
  console.log(`listening on ${port}`);
});